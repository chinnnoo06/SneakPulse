<div class="contenedor">
  <div class="contenedor-form shadow-sm">
    <div class="titulo-form d-flex justify-content-center mb-3">
      <h2>Crear Cuenta</h2>
    </div>

    <!-- Mensajes de error/éxito -->
    <div *ngIf="mensajeError" class="alert alert-danger text-center">
      {{ mensajeError }}
    </div>
    <div *ngIf="mensajeExito" class="alert alert-success text-center">
      {{ mensajeExito }}
    </div>

    <form (ngSubmit)="onSubmit()" #cuentaForm="ngForm" novalidate>
      <div class="row">
        <!-- Columna 1 -->
        <div class="col-12 col-md-4">
          <!-- Nombre -->
          <div class="mb-3">
            <label for="nombre">Nombre:</label>
            <input
              type="text"
              id="nombre"
              name="nombre"
              class="form-control"
              [(ngModel)]="nombre"
              required
              #nombreInput="ngModel"
            />
            <div
              *ngIf="nombreInput.invalid && nombreInput.touched"
              class="text-danger small"
            >
              El nombre es obligatorio.
            </div>
          </div>

          <!-- Apellido -->
          <div class="mb-3">
            <label for="apellido">Apellido:</label>
            <input
              type="text"
              id="apellido"
              name="apellido"
              class="form-control"
              [(ngModel)]="apellido"
              required
              #apellidoInput="ngModel"
            />
            <div
              *ngIf="apellidoInput.invalid && apellidoInput.touched"
              class="text-danger small"
            >
              El apellido es obligatorio.
            </div>
          </div>
        </div>

        <!-- Columna 2 -->
        <div class="col-12 col-md-4">
          <!-- Correo electrónico -->
          <div class="mb-3">
            <label for="correo">Correo electrónico:</label>
            <input
              type="email"
              id="correo"
              name="correo"
              class="form-control"
              [(ngModel)]="correo"
              required
              #correoInput="ngModel"
            />
            <div
              *ngIf="correoInput.invalid && correoInput.touched"
              class="text-danger small"
            >
              El correo es obligatorio y debe ser válido.
            </div>
          </div>

          <!-- Dirección -->
          <div class="mb-3">
            <label for="direccion">Dirección:</label>
            <input
              type="text"
              id="direccion"
              name="direccion"
              class="form-control"
              [(ngModel)]="direccion"
              required
              #direccionInput="ngModel"
            />
            <div
              *ngIf="direccionInput.invalid && direccionInput.touched"
              class="text-danger small"
            >
              La dirección es obligatoria.
            </div>
          </div>
        </div>

        <!-- Columna 3 -->
        <div class="col-12 col-md-4">
          <!-- Contraseña -->
          <div class="mb-3">
            <label for="password">Contraseña:</label>
            <input
              type="password"
              id="password"
              name="password"
              class="form-control"
              [(ngModel)]="password"
              required
              #passwordInput="ngModel"
            />
            <div
              *ngIf="passwordInput.invalid && passwordInput.touched"
              class="text-danger small"
            >
              La contraseña es obligatoria.
            </div>
          </div>

          <!-- Confirmar contraseña -->
          <div class="mb-3">
            <label for="confirmPassword">Confirmar Contraseña:</label>
            <input
              type="password"
              id="confirmPassword"
              name="confirmPassword"
              class="form-control"
              [(ngModel)]="confirmPassword"
              required
              #confirmPasswordInput="ngModel"
            />
            <div
              *ngIf="confirmPasswordInput.invalid && confirmPasswordInput.touched"
              class="text-danger small"
            >
              Confirmar contraseña es obligatorio.
            </div>
            <div
              *ngIf="password !== confirmPassword && confirmPasswordInput.touched"
              class="text-danger small"
            >
              Las contraseñas no coinciden.
            </div>
          </div>
        </div>
      </div>

      <!-- Pregunta y respuesta de seguridad en fila separada -->
      <div class="row mb-3">
        <div class="col-12 col-md-6">
          <label for="preguntaSeguridad">Pregunta de seguridad:</label>
          <select
            id="preguntaSeguridad"
            name="preguntaSeguridad"
            class="form-control"
            [(ngModel)]="preguntaSeguridad"
            required
            #preguntaInput="ngModel"
          >
            <option value="" disabled selected>Selecciona una pregunta</option>
            <option value="¿Cuál es el nombre de tu mascota favorita?">¿Cuál es el nombre de tu mascota favorita?</option>
            <option value="¿En qué ciudad naciste?">¿En qué ciudad naciste?</option>
            <option value="¿Cuál es tu comida favorita?">¿Cuál es tu comida favorita?</option>
            <option value="¿Cuál es tu película favorita de la infancia?">¿Cuál es tu película favorita de la infancia?</option>
          </select>
          <div
            *ngIf="preguntaInput.invalid && preguntaInput.touched"
            class="text-danger small"
          >
            La pregunta de seguridad es obligatoria.
          </div>
        </div>

        <div class="col-12 col-md-6">
          <label for="respuestaSeguridad">Respuesta de seguridad:</label>
          <input
            type="text"
            id="respuestaSeguridad"
            name="respuestaSeguridad"
            class="form-control"
            [(ngModel)]="respuestaSeguridad"
            required
            #respuestaInput="ngModel"
          />
          <div
            *ngIf="respuestaInput.invalid && respuestaInput.touched"
            class="text-danger small"
          >
            La respuesta de seguridad es obligatoria.
          </div>
        </div>
      </div>

      <div class="d-flex justify-content-center">
        <button
          type="submit"
          class="btn btn-tipouno"
          [disabled]="cuentaForm.invalid || password !== confirmPassword"
        >
          Crear cuenta
        </button>
      </div>
    </form>

    <div class="text-center mt-4">
      <h3>¿Ya tienes una cuenta?</h3>
      <p>Inicia sesión con tu cuenta</p>
    </div>

    <div class="text-center mt-2">
      <button class="btn btn-tipodos px-4" (click)="irIniciarSesion()">
        Iniciar Sesión
      </button>
    </div>
  </div>
</div>
